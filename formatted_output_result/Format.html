<!DOCTYPE html>
<html class="dark" lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Results | Taskify</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&amp;display=swap"
        rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght@100..700,0..1&amp;display=swap"
        rel="stylesheet" />
    <script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#2563eb",
                        "primary-dark": "#4f46e5",
                        "background-light": "#F9FAFB",
                        "background-dark": "#101922",
                        "card-light": "#FFFFFF",
                        "text-headline": "#0F172A",
                        "text-body": "#475569",
                    },
                    fontFamily: { "display": ["Inter", "sans-serif"] },
                    boxShadow: {
                        'soft': '0 4px 6px -1px rgba(0, 0, 0, 0.02), 0 2px 4px -1px rgba(0, 0, 0, 0.02)',
                        'glow': '0 0 20px rgba(37, 99, 235, 0.15)',
                    }
                },
            },
        }
    </script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }

        .glass-effect {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(0, 0, 0, 0.05);
        }

        .dark .glass-effect {
            background: rgba(25, 38, 51, 0.7);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }

        .custom-scrollbar::-webkit-scrollbar-track {
            background: transparent;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 10px;
        }

        .dark .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #233648;
        }

        .fade-in-up {
            animation: fadeInUp 0.8s ease-out forwards;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .mesh-gradient {
            background-color: #F9FAFB;
            background-image: radial-gradient(at 0% 0%, rgba(37, 99, 235, 0.05) 0px, transparent 50%), radial-gradient(at 100% 0%, rgba(79, 70, 229, 0.05) 0px, transparent 50%), radial-gradient(at 50% 100%, rgba(37, 99, 235, 0.03) 0px, transparent 50%);
            background-attachment: fixed;
        }

        .dark .mesh-gradient {
            background-color: #101922;
            background-image: radial-gradient(at 0% 0%, rgba(43, 141, 238, 0.15) 0px, transparent 50%), radial-gradient(at 100% 0%, rgba(79, 70, 229, 0.12) 0px, transparent 50%), radial-gradient(at 0% 100%, rgba(43, 141, 238, 0.05) 0px, transparent 50%);
        }
    </style>
    <script>
        if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark')
        } else {
            document.documentElement.classList.remove('dark')
        }
    </script>
</head>

<body
    class="mesh-gradient text-text-headline dark:text-white min-h-screen selection:bg-primary/30 transition-colors duration-300">
    <div class="relative flex flex-col min-h-screen">
        <header
            class="flex items-center justify-between border-b border-solid border-slate-200 dark:border-white/10 px-8 py-4 sticky top-0 bg-white/80 dark:bg-background-dark/80 backdrop-blur-md z-50">
            <a href="../hero_&_header_section/Home.html"
                class="flex items-center gap-3 hover:opacity-80 transition-opacity">
                <div class="text-primary"><svg class="size-8" fill="none" viewbox="0 0 48 48"
                        xmlns="http://www.w3.org/2000/svg">
                        <path clip-rule="evenodd" d="M24 4H42V17.3333V30.6667H24V44H6V30.6667V17.3333H24V4Z"
                            fill="currentColor" fill-rule="evenodd"></path>
                    </svg></div>
                <h2 class="text-xl font-bold tracking-tight">Taskify</h2>
            </a>
            <div class="flex items-center gap-8">
                <nav class="hidden md:flex items-center gap-8">
                    <a class="text-sm font-medium hover:text-primary transition-colors"
                        href="../task_input_workspace/input.html">Workspace</a>
                    <a class="text-sm font-medium hover:text-primary transition-colors"
                        href="../task_history_timeline/task.html">History</a>
                </nav>
                <div
                    class="h-10 w-10 rounded-full border-2 border-primary/20 bg-slate-200 flex items-center justify-center text-slate-500 font-bold">
                    U</div>
            </div>
        </header>
        <main class="flex-1 flex flex-col items-center justify-start py-12 px-6">
            <div class="max-w-4xl w-full text-center mb-10 fade-in-up">
                <h1 class="text-3xl md:text-5xl font-bold tracking-tight mb-4">Formatted Result</h1>
                <p class="text-slate-500 dark:text-slate-400 text-lg max-w-2xl mx-auto">Your tasks have been analyzed
                    and polished. Review the optimized structure below.</p>
            </div>
            <div class="max-w-4xl w-full mb-6 fade-in-up" style="animation-delay: 0.1s;">
                <div class="flex justify-between items-center px-2">
                    <div class="flex gap-2">
                        <button onclick="location.href='../task_input_workspace/input.html'"
                            class="flex items-center gap-2 px-4 py-2 rounded-lg bg-slate-200 dark:bg-slate-800 hover:bg-slate-300 dark:hover:bg-slate-700 transition-all text-sm font-medium"><span
                                class="material-symbols-outlined text-[20px]">edit</span> Edit</button>
                        <button onclick="clearAllResult()"
                            class="flex items-center gap-2 px-4 py-2 rounded-lg bg-red-500/10 hover:bg-red-500/20 text-red-500 transition-all text-sm font-medium border border-red-500/20"><span
                                class="material-symbols-outlined text-[20px]">delete_sweep</span> Clear</button>
                    </div>
                    <div class="text-xs font-mono text-slate-500 uppercase tracking-widest">Status: Ready</div>
                </div>
            </div>
            <div class="max-w-4xl w-full fade-in-up" style="animation-delay: 0.2s;">
                <div class="glass-effect rounded-xl overflow-hidden shadow-2xl relative group">
                    <div class="h-1 w-full bg-gradient-to-r from-primary via-blue-400 to-indigo-500"></div>
                    <div class="p-6 md:p-12">
                        <div class="space-y-6 custom-scrollbar max-h-[500px] overflow-y-auto pr-4">
                            <div class="border-b border-slate-700/30 pb-4">
                                <h3 class="text-primary font-semibold text-sm uppercase tracking-widest mb-4">Priority
                                    Content</h3>
                                <ul id="priorityTaskList" class="space-y-4">
                                    <li class="flex items-start gap-4"><span
                                            class="material-symbols-outlined text-primary mt-0.5">check_circle</span>
                                        <div>
                                            <p class="text-lg font-medium leading-relaxed">Processing your session...
                                            </p>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="mt-12 flex justify-end">
                            <button onclick="window.copyToClipboard()"
                                class="relative group/btn flex items-center gap-3 bg-primary hover:bg-primary/90 text-white px-8 py-4 rounded-xl font-semibold shadow-lg shadow-primary/20 transition-all hover:scale-[1.02]">
                                <span class="material-symbols-outlined">content_copy</span><span>Copy Results</span>
                                <div
                                    class="absolute -top-12 left-1/2 -translate-x-1/2 bg-slate-900 text-white text-xs py-1 px-3 rounded opacity-0 group-active/btn:opacity-100 transition-opacity">
                                    Copied!</div>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        <div class="fixed bottom-8 left-1/2 -translate-x-1/2 flex items-center gap-3 bg-slate-900 dark:bg-white text-white dark:text-slate-900 px-6 py-3 rounded-full shadow-2xl transition-all translate-y-24 opacity-0 pointer-events-none"
            id="copy-toast">
            <span class="material-symbols-outlined text-primary">check_circle</span>
            <p class="text-sm font-medium">Copied to clipboard</p>
        </div>
        <footer class="border-t border-slate-200 dark:border-slate-800 py-12 px-6">
            <div class="max-w-7xl mx-auto flex flex-col md:flex-row items-center justify-between gap-8">
                <div class="flex items-center gap-3 grayscale opacity-50">
                    <div class="bg-slate-400 size-6 rounded flex items-center justify-center text-white"><span
                            class="material-symbols-outlined text-sm">auto_awesome</span></div>
                    <h2 class="text-sm font-black tracking-tighter">TASKIFY</h2>
                </div>
                <div class="flex flex-wrap justify-center gap-8"><a
                        class="text-xs font-medium text-slate-500 hover:text-primary transition-colors uppercase tracking-widest"
                        href="#">Privacy Policy</a><a
                        class="text-xs font-medium text-slate-500 hover:text-primary transition-colors uppercase tracking-widest"
                        href="#">Terms of Service</a><a
                        class="text-xs font-medium text-slate-500 hover:text-primary transition-colors uppercase tracking-widest"
                        href="#">Cookie Policy</a></div>
                <div class="flex items-center gap-6"><a class="text-slate-400 hover:text-primary transition-colors"
                        href="#"><span class="material-symbols-outlined">public</span></a><a
                        class="text-slate-400 hover:text-primary transition-colors" href="#"><span
                            class="material-symbols-outlined">alternate_email</span></a></div>
            </div>
            <p class="text-center text-[10px] text-slate-500 mt-12 uppercase tracking-[0.3em]">© 2025 Taskify.
                Professional Productivity Engineering.</p>
        </footer>
    </div>
    <script>
        function clearAllResult() { if (confirm('Clear results?')) { localStorage.removeItem('taskflow_input'); window.location.href = '../task_input_workspace/input.html'; } }
        document.addEventListener('DOMContentLoaded', () => {
            const rawInput = localStorage.getItem('taskflow_input');
            const listContainer = document.getElementById('priorityTaskList');
            const pageTitle = document.querySelector('h1');
            const pageSubtitle = document.querySelector('main p');
            let clipboardText = "";
            function professionalize(t) {
                if (!t) return "";
                let p = t.trim().charAt(0).toUpperCase() + t.trim().slice(1);
                const ex = { "w/": "with", "bc": "because", "mtg": "meeting", "mgr": "manager", "eod": "end of day", "asap": "as soon as possible", "tbd": "to be determined", "re:": "regarding", "attn": "attention", "eta": "estimated time of arrival" };
                for (const [k, v] of Object.entries(ex)) p = p.replace(new RegExp(`\\b${k}\\b`, 'gi'), v);
                if (!/[.!?₹$\d]$/.test(p)) p += ".";
                return p;
            }
            if (!rawInput) { listContainer.innerHTML = '<li class="text-center opacity-50 italic">No data found.</li>'; return; }
            const lines = rawInput.split('\n').map(l => l.trim()).filter(l => l.length > 2);
            let expenses = [], tasks = [], total = 0;
            lines.forEach(l => {
                const amtMatch = l.match(/([₹$])\s?(\d+(?:[.,]\d{2})?)/);
                if (amtMatch) {
                    const val = parseFloat(amtMatch[2].replace(',', ''));
                    expenses.push({ clean: l.replace(/[₹$]\s?\d+(?:[.,]\d{2})?/, '').trim(), amt: val, sym: amtMatch[1] });
                    total += val;
                } else tasks.push(l);
            });
            listContainer.innerHTML = '';
            if (expenses.length > 0) {
                pageTitle.innerText = "Financial Intelligence Report";
                const totalWidget = document.createElement('div');
                totalWidget.className = "mb-8 p-6 bg-primary/5 border border-primary/10 rounded-2xl flex justify-between items-center";
                totalWidget.innerHTML = `<div><p class="text-[10px] font-black uppercase text-primary">Total Balance</p><h2 class="text-3xl font-black">${expenses[0].sym}${total.toLocaleString(undefined, { minimumFractionDigits: 2 })}</h2></div>`;
                listContainer.parentElement.prepend(totalWidget);
                clipboardText = `FINAL REPORT\n------------\n`;
                expenses.forEach(e => {
                    const li = document.createElement('li');
                    li.className = "flex justify-between items-center py-3 border-b border-white/5 last:border-none";
                    li.innerHTML = `<p class="font-medium">${professionalize(e.clean)}</p><p class="font-black text-primary">${e.sym}${e.amt}</p>`;
                    listContainer.appendChild(li);
                    clipboardText += `• ${professionalize(e.clean)}: ${e.sym}${e.amt}\n`;
                });
                if (tasks.length > 0) clipboardText += `\nOther Notes:\n`;
            }
            tasks.forEach(t => {
                const li = document.createElement('li');
                li.className = "flex items-start gap-4 py-3 border-b border-white/5 last:border-none";
                li.innerHTML = `<span class="material-symbols-outlined text-primary text-sm mt-1">task_alt</span><p>${professionalize(t)}</p>`;
                listContainer.appendChild(li);
                clipboardText += `• ${professionalize(t)}\n`;
            });
            window.copyToClipboard = () => {
                navigator.clipboard.writeText(clipboardText).then(() => {
                    const t = document.getElementById('copy-toast');
                    t.classList.remove('translate-y-24', 'opacity-0');
                    setTimeout(() => t.classList.add('translate-y-24', 'opacity-0'), 2500);
                });
            };
        });
    </script>
</body>

</html>